



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="An easy-to-use, modular and extendable Julia package for Dynamical Billiard systems in two dimensions.">
      
      
      
        <meta name="author" content="George Datseris">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>Library - DynamicalBilliards.jl</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets\Documenter.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#propagation" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="DynamicalBilliards.jl" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                DynamicalBilliards.jl
              </span>
              <span class="md-header-nav__topic">
                Library
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    DynamicalBilliards.jl
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic_usage/" title="Basic Usage" class="md-nav__link">
      Basic Usage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/billiard_table/" title="Defining a Billiard Table" class="md-nav__link">
      Defining a Billiard Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/ray-splitting/" title="Ray-Splitting" class="md-nav__link">
      Ray-Splitting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/visualizing/" title="Visualizing" class="md-nav__link">
      Visualizing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/own_obstacle/" title="Creating your own Obstacle" class="md-nav__link">
      Creating your own Obstacle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../physics/" title="Physics" class="md-nav__link">
      Physics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../lyapunovs/" title="Lyapunov Exponents" class="md-nav__link">
      Lyapunov Exponents
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Library
      </label>
    
    <a href="./" title="Library" class="md-nav__link md-nav__link--active">
      Library
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#propagation" title="Propagation" class="md-nav__link">
    Propagation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#particles" title="Particles" class="md-nav__link">
    Particles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obstacles" title="Obstacles" class="md-nav__link">
    Obstacles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-billiards" title="Standard Billiards" class="md-nav__link">
    Standard Billiards
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ray-splitting" title="Ray-splitting" class="md-nav__link">
    Ray-splitting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#propagation" title="Propagation" class="md-nav__link">
    Propagation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#particles" title="Particles" class="md-nav__link">
    Particles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obstacles" title="Obstacles" class="md-nav__link">
    Obstacles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-billiards" title="Standard Billiards" class="md-nav__link">
    Standard Billiards
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ray-splitting" title="Ray-splitting" class="md-nav__link">
    Ray-splitting
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/edit/master/docs/basic/library.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Library</h1>
                
                <p>Below you find all the docstrings of all exported names of <code>DynamicalBilliards.jl</code> in convenient groups.</p>
<p><a id='Propagation-1'></a></p>
<h2 id="propagation">Propagation</h2>
<p><a id='DynamicalBilliards.resolvecollision!' href='#DynamicalBilliards.resolvecollision!'>#</a>
<strong><code>DynamicalBilliards.resolvecollision!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>resolvecollision!(p::AbstractParticle, o::Obstacle)
</pre></div>


<p>Resolve the collision between particle <code>p</code> and obstacle <code>o</code>, depending on the type of <code>o</code> (do <code>specular!</code> or <code>periodicity!</code>).</p>
<div class="codehilite"><pre><span></span>resolvecollision!(p, o, T::Function, θ::Function, new_ω::Function)
</pre></div>


<p>This is the ray-splitting implementation. The three functions given are drawn from the ray-splitting dictionary that is passed directly to <code>evolve!()</code>. For a calculated incidence angle φ, if T(φ) &gt; rand(), ray-splitting occurs.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L82-L91' class='documenter-source'>source</a><br></p>
<div class="codehilite"><pre><span></span>resolvecollision!(p::Particle, o::Union{Disk, InfiniteWall}, offset::MArray)
</pre></div>


<p>Resolve the collision between particle <code>p</code> and obstacle <code>o</code> of type <em>Circular</em>, updating the components of the offset vectors stored in the matrix <code>offset</code> as columns.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/lyapunov_spectrum.jl#L59-L63' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.specular!' href='#DynamicalBilliards.specular!'>#</a>
<strong><code>DynamicalBilliards.specular!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>specular!(p::AbstractParticle, o::Obstacle)
</pre></div>


<p>Perform specular reflection based on the normal vector of the Obstacle.</p>
<p>In the case where the given obstacle is a <code>RandomObstacle</code>, the specular reflection randomizes the velocity instead (within -π/2+ε to π/2-ε of the normal vector).</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L45-L51' class='documenter-source'>source</a><br></p>
<div class="codehilite"><pre><span></span>specular!(p::Particle, o::Obstacle, offset::MArray)
</pre></div>


<p>Perform specular reflection based on the normal vector of the Obstacle. The function updates the position and velocity of the particle together with the components of 4 offset vectors stored in the matrix <code>offset</code> as columns.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/lyapunov_spectrum.jl#L22-L28' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.periodicity!' href='#DynamicalBilliards.periodicity!'>#</a>
<strong><code>DynamicalBilliards.periodicity!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>periodicity!(p::AbstractParticle, w::PeriodicWall)
</pre></div>


<p>Perform periodicity conditions of <code>w</code> on <code>p</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L72-L75' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.relocate!' href='#DynamicalBilliards.relocate!'>#</a>
<strong><code>DynamicalBilliards.relocate!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>relocate!(p::AbstractParticle, o::Obstacle, t) -&gt; newt
</pre></div>


<p>Propagate the particle's position for time <code>t</code>, and check if it is on the correct side of the obstacle. If not, adjust the time <code>t</code> by <code>timeprec</code> and re-evalute until correct. When correct, propagate the particle itself to the correct position and return the final adjusted time.</p>
<p>Notice that the adjustment is increased geometrically; if one adjustment is not enough, the adjusted time is multiplied by a factor of 10. This happens as many times as necessary.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L95-L105' class='documenter-source'>source</a><br></p>
<div class="codehilite"><pre><span></span>relocate(p::Particle, o::Obstacle, t, offset::MArray) -&gt; newt
</pre></div>


<p>Propagate the particle's position for time <code>t</code> (corrected) and update the components of the <code>offset</code> matrix.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/lyapunov_spectrum.jl#L89-L93' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.collisiontime' href='#DynamicalBilliards.collisiontime'>#</a>
<strong><code>DynamicalBilliards.collisiontime</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>collisiontime(p::AbstractParticle, o::Obstacle)
</pre></div>


<p>Calculate the collision time (time-until-collision) between given particle and obstacle. Returns <code>Inf</code> if the collision is not possible <em>or</em> if the collision happens backwards in time.</p>
<p>In the case of magnetic propagation, there are always two possible collisions. The function internally decides which of the two will occur first, based on the sign of the angular velocity of the magnetic particle.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/collisiontimes.jl#L3-L12' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.next_collision' href='#DynamicalBilliards.next_collision'>#</a>
<strong><code>DynamicalBilliards.next_collision</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>next_collision(p, bt) -&gt; (tmin, index)
</pre></div>


<p>Return the minimum collision time out of all <code>collisiontime(p, obst)</code> for <code>obst ∈ bt</code>, as well as the <code>index</code> of the corresponding obstacle.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/billiardtable.jl#L30-L34' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.propagate_pos' href='#DynamicalBilliards.propagate_pos'>#</a>
<strong><code>DynamicalBilliards.propagate_pos</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>propagate_pos(pos, p::Particle{T}, t::Real) where {T}
</pre></div>


<p>Perform a "fake" propagation, i.e. propagate a position as if it was the particle's position.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L156-L160' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.propagate!' href='#DynamicalBilliards.propagate!'>#</a>
<strong><code>DynamicalBilliards.propagate!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>propagate!(p::AbstractParticle, t)
</pre></div>


<p>Propagate the particle <code>p</code> for given time <code>t</code>, changing appropriately the the <code>p.pos</code> and <code>p.vel</code> fields.</p>
<p>For a <code>Particle</code> the propagation is a straight line (i.e. velocity vector is constant). For a <code>MagneticParticle</code> the propagation is circular motion with cyclic frequency <code>p.omega</code> and radius <code>1/p.omega</code>.</p>
<div class="codehilite"><pre><span></span>propagate!(p, position, t)
</pre></div>


<p>Do the same, but take advantage of the already calculated <code>position</code> that the particle should end up at.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L127-L139' class='documenter-source'>source</a><br></p>
<div class="codehilite"><pre><span></span>propagate!(p::Particle{T}, t::T, offset::MArray{Tuple{4,4},T})
</pre></div>


<p>Propagate the particle <code>p</code> for given time <code>t</code>, changing appropriately the the <code>p.pos</code> and <code>p.vel</code> fields together with the components of the offset vectors stored in the <code>offset</code> matrix.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/lyapunov_spectrum.jl#L72-L77' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.evolve!' href='#DynamicalBilliards.evolve!'>#</a>
<strong><code>DynamicalBilliards.evolve!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>evolve!(p::AbstractParticle, bt, t [, ray_splitter])
</pre></div>


<p>Evolve the given particle <code>p</code> inside the billiard table <code>bt</code>. If <code>t</code> is of type <code>AbstractFloat</code>, evolve for as much time as <code>t</code>. If however <code>t</code> is of type <code>Int</code>, evolve for as many collisions as <code>t</code>. Return the states of the particle between collisions.</p>
<p>The evolution takes into account the particle's Type. E.g. if <code>typeof(p) &lt;: MagneticParticle</code> then magnetic evolution will take place.</p>
<p>This function mutates the particle, use <a href="../@ref"><code>evolve</code></a> otherwise.</p>
<p><strong>Returns</strong></p>
<ul>
<li><code>ct::Vector{T}</code> : Collision times.</li>
<li><code>poss::Vector{SVector{2,T}}</code> : Positions during collisions.</li>
<li><code>vels::Vector{SVector{2,T}})</code> : Velocities <strong>exactly after</strong> the collisions.</li>
<li><code>ω</code>, either <code>T</code> or <code>Vector{T}</code> : Angular velocity/ies (returned only for magnetic).</li>
</ul>
<p>The time <code>ct[i+1]</code> is the time necessary to reach state <code>poss[i+1], vels[i+1]</code> starting from the state <code>poss[i], vels[i]</code>. That is why <code>ct[1]</code> is always 0 since <code>poss[1], vels[1]</code> are the initial conditions. The angular velocity <code>ω[i]</code> is the one the particle has while propagating from state <code>poss[i], vels[i]</code> to <code>i+1</code>.</p>
<p>Notice that at any point, the velocity vector <code>vels[i]</code> is the one obtained <strong>after</strong> the specular reflection of the <code>i-1</code>th collision. The function <a href="./#DynamicalBilliards.construct"><code>construct</code></a> takes that into account.</p>
<p><strong>Ray-splitting billiards</strong></p>
<p>To implement ray-splitting, the <code>evolve!()</code> function is supplemented with a fourth argument, <code>ray_splitter::Dict{Int, Any}</code>, which maps integers to some kind of Function container (Tuple or Vector). The functions in this container are: (φ is the angle of incidence)</p>
<ul>
<li>T(φ, pflag, ω) : Transmission probability.</li>
<li>θ(φ, pflag, ω) : Transmission (aka refraction) angle.</li>
<li>ω_new(ω, pflag) : Angular velocity after transmission.</li>
</ul>
<p>For more information and instructions on defining these functions please visit the official documentation.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L206-L245' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.construct' href='#DynamicalBilliards.construct'>#</a>
<strong><code>DynamicalBilliards.construct</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>construct(ct, poss, vels[, ω][, dt=0.01]) -&gt; xt, yt, vxt, vyt, t
</pre></div>


<p>Given the main output of the <code>evolve!()</code> function, construct the timeseries of the position and velocity, as well as the time vector.</p>
<p>In case of not given ω (or ω == 0), straight construction takes place. In case of ω != 0 or ω::Vector magnetic construction takes place.</p>
<p>The additional optional argument of <code>dt</code> (only valid for Magnetic construction) is the timestep with which the timeseries are constructed.</p>
<p><strong>Return</strong></p>
<p>A tuple of the following:</p>
<ul>
<li>xt::Vector{T} : x position time-series</li>
<li>yt::Vector{T} : y position time-series</li>
<li>vxt::Vector{T} : x velocity time-series</li>
<li>vyt::Vector{T} : y velocity time-series</li>
<li>ts::Vector{T} : time vector</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L309-L327' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.escapetime' href='#DynamicalBilliards.escapetime'>#</a>
<strong><code>DynamicalBilliards.escapetime</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>escapetime(p, bt, maxiter = 1000; warning = false)
</pre></div>


<p>Calculate the escape time of a particle <code>p</code> in the billiard table <code>bt</code>, which is the time until colliding with any <code>Door</code> in <code>bt</code>. As <code>Door</code> is considered any <a href="./#DynamicalBilliards.FiniteWall"><code>FiniteWall</code></a> with field <code>isdoor=true</code>.</p>
<p>If the particle performs more than <code>maxiter</code> collisions without colliding with the <code>Door</code> (i.e. escaping) the returned result is <code>Inf</code>.</p>
<p>A warning can be thrown if the result is <code>Inf</code>. Enable this using the keyword <code>warning = true</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/timeevolution/propagation.jl#L393-L405' class='documenter-source'>source</a><br></p>
<p><a id='Particles-1'></a></p>
<h2 id="particles">Particles</h2>
<p><a id='DynamicalBilliards.Particle' href='#DynamicalBilliards.Particle'>#</a>
<strong><code>DynamicalBilliards.Particle</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>Particle{T&lt;:AbstractFloat} &lt;: AbstractParticle{T}
</pre></div>


<p>Two-dimensional particle in a billiard table (mutable type).</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>pos::SVector{2,T}</code> : Current position vector.</li>
<li><code>vel::SVector{2,T}</code> : Current velocity vector (always of measure 1).</li>
<li><code>current_cell::SVector{2,T}</code> : Current "cell" the particle is located at. (Used only in periodic billiards)</li>
</ul>
<p><strong>Additional constructors:</strong></p>
<div class="codehilite"><pre><span></span><span class="n">Particle</span><span class="p">(</span><span class="n">ic</span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="n">T</span><span class="p">})</span> <span class="c">#where ic = [x0, y0, φ0]</span>
<span class="n">Particle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="nb">φ</span><span class="p">)</span>
<span class="n">Particle</span><span class="p">()</span> <span class="o">=</span> <span class="n">Particle</span><span class="p">(</span><span class="n">rand</span><span class="p">(),</span> <span class="n">rand</span><span class="p">(),</span> <span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="nb">π</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/particles.jl#L14-L28' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.MagneticParticle' href='#DynamicalBilliards.MagneticParticle'>#</a>
<strong><code>DynamicalBilliards.MagneticParticle</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>MagneticParticle{T&lt;:AbstractFloat} &lt;: AbstractParticle{T}
</pre></div>


<p>Two-dimensional particle in a billiard table with perpendicular magnetic field (mutable type).</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>pos::SVector{2,T}</code> : Current position vector.</li>
<li><code>vel::SVector{2,T}</code> : Current velocity vector (always of measure 1).</li>
<li><code>current_cell::SVector{2,T}</code> : Current "cell" the particle is located at (Used only in periodic billiards).</li>
<li><code>omega::T</code> : Angular velocity (cyclic frequency) of rotational motion. Radius of rotation is <code>r=1/omega</code>.</li>
</ul>
<p><strong>Additional constructors:</strong></p>
<div class="codehilite"><pre><span></span><span class="n">MagneticParticle</span><span class="p">(</span><span class="n">ic</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">{</span><span class="n">T</span><span class="p">},</span> <span class="n">ω</span><span class="o">::</span><span class="kt">Real</span><span class="p">)</span> <span class="c">#where ic = [x0, y0, φ0]</span>
<span class="n">MagneticParticle</span><span class="p">(</span><span class="n">x0</span><span class="o">::</span><span class="kt">Real</span><span class="p">,</span> <span class="n">y0</span><span class="o">::</span><span class="kt">Real</span><span class="p">,</span> <span class="n">φ0</span><span class="o">::</span><span class="kt">Real</span><span class="p">,</span> <span class="n">ω</span><span class="o">::</span><span class="kt">Real</span><span class="p">)</span>
<span class="n">MagneticParticle</span><span class="p">()</span> <span class="o">=</span> <span class="n">MagneticParticle</span><span class="p">([</span><span class="n">rand</span><span class="p">(),</span> <span class="n">rand</span><span class="p">(),</span> <span class="n">rand</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="nb">π</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/particles.jl#L53-L70' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.cyclotron' href='#DynamicalBilliards.cyclotron'>#</a>
<strong><code>DynamicalBilliards.cyclotron</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>cyclotron(p::MagneticParticle, use_cell = false)
</pre></div>


<p>Return center and radius of circular motion performed by the particle based on <code>p.pos</code> (or <code>p.pos + p.current_cell</code>) and <code>p.vel</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/particles.jl#L102-L106' class='documenter-source'>source</a><br></p>
<p><a id='Obstacles-1'></a></p>
<h2 id="obstacles">Obstacles</h2>
<p><a id='DynamicalBilliards.Obstacle' href='#DynamicalBilliards.Obstacle'>#</a>
<strong><code>DynamicalBilliards.Obstacle</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>Obstacle{&lt;:AbstractFloat}
</pre></div>


<p>Obstacle supertype.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L8-L11' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.Disk' href='#DynamicalBilliards.Disk'>#</a>
<strong><code>DynamicalBilliards.Disk</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>Disk{T&lt;:AbstractFloat}  &lt;: Circular{T}
</pre></div>


<p>Disk-like obstacle with propagation allowed outside of the circle (immutable type).</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>c::SVector{2,T}</code> : Center.</li>
<li><code>r::T</code> : Radius.</li>
<li><code>name::String</code> : Some name given for user convenience. Defaults to "Disk".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L23-L30' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.RandomDisk' href='#DynamicalBilliards.RandomDisk'>#</a>
<strong><code>DynamicalBilliards.RandomDisk</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>RandomDisk{T&lt;:AbstractFloat} &lt;: Circular{T}
</pre></div>


<p>Disk-like obstacle that randomly (and uniformly) reflects colliding particles. The propagation is allowed outside of the circle.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>c::SVector{2,T}</code> : Center.</li>
<li><code>r::T</code> : Radius.</li>
<li><code>name::String</code> : Some name given for user convenience. Defaults to "Random disk".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L42-L50' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.Antidot' href='#DynamicalBilliards.Antidot'>#</a>
<strong><code>DynamicalBilliards.Antidot</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>Antidot{T&lt;:AbstractFloat} &lt;: Circular{T}
</pre></div>


<p>Disk-like obstacle that allows propagation both inside and outside of the disk (mutable type). Used in ray-splitting billiards.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>c::SVector{2,T}</code> : Center.</li>
<li><code>r::T</code> : Radius.</li>
<li><code>pflag::Bool</code> : Flag that keeps track of where the particle is currently propagating (<code>pflag</code> = propagation-flag). <code>true</code> stands for <em>outside</em> the disk, <code>false</code> for <em>inside</em> the disk. Defaults to <code>true</code>.</li>
<li><code>name::String</code> : Name of the obstacle given for user convenience. Defaults to "Antidot".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L63-L76' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.Semicircle' href='#DynamicalBilliards.Semicircle'>#</a>
<strong><code>DynamicalBilliards.Semicircle</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>Semicircle{T&lt;:AbstractFloat} &lt;: Circular{T}
</pre></div>


<p>Obstacle that represents half a circle.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>c::SVector{2,T}</code> : Center.</li>
<li><code>r::T</code> : Radius.</li>
<li><code>facedir::SVector{2,T}</code> : Direction where the open face of the Semicircle is facing.</li>
<li><code>name::String</code> : Name of the obstacle given for user convenience. Defaults to "Semicircle".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L91-L100' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.InfiniteWall' href='#DynamicalBilliards.InfiniteWall'>#</a>
<strong><code>DynamicalBilliards.InfiniteWall</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>InfiniteWall{T&lt;:AbstractFloat} &lt;: Wall{T}
</pre></div>


<p>Wall obstacle imposing specular reflection during collision (immutable type). Faster than <a href="./#DynamicalBilliards.FiniteWall"><code>FiniteWall</code></a>, meant to be used for convex billiards.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>sp::SVector{2,T}</code> : Starting point of the Wall.</li>
<li><code>ep::SVector{2,T}</code> : Ending point of the Wall.</li>
<li><code>normal::SVector{2,T}</code> : Normal vector to the wall, pointing to where the particle <em>will come from before a collision</em> (pointing towards the inside of the billiard table). The size of the vector is irrelevant since it is internally normalized.</li>
<li><code>name::String</code> : Name of the obstacle, given for user convenience. Defaults to "Wall".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L131-L144' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.RandomWall' href='#DynamicalBilliards.RandomWall'>#</a>
<strong><code>DynamicalBilliards.RandomWall</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>RandomWall{T&lt;:AbstractFloat} &lt;: Wall{T}
</pre></div>


<p>Wall obstacle imposing (uniformly) random reflection during collision (immutable type).</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>sp::SVector{2,T}</code> : Starting point of the Wall.</li>
<li><code>ep::SVector{2,T}</code> : Ending point of the Wall.</li>
<li><code>normal::SVector{2,T}</code> : Normal vector to the wall, pointing to where the particle <em>is expected to come from</em> (pointing towards the inside of the billiard table).</li>
<li><code>name::String</code> : Name of the obstacle, given for user convenience. Defaults to "Random wall".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L210-L221' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.PeriodicWall' href='#DynamicalBilliards.PeriodicWall'>#</a>
<strong><code>DynamicalBilliards.PeriodicWall</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>PeriodicWall{T&lt;:AbstractFloat} &lt;: Wall{T}
</pre></div>


<p>Wall obstacle that imposes periodic boundary conditions upon collision (immutable type).</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>sp::SVector{2,T}</code> : Starting point of the Wall.</li>
<li><code>ep::SVector{2,T}</code> : Ending point of the Wall.</li>
<li><code>normal::SVector{2,T}</code> : Normal vector to the wall, pointing to where the particle <em>will come from</em> (to the inside the billiard table). The size of the vector is <strong>important</strong>! This vector is added to a particle's <code>pos</code> during collision. Therefore the size of the normal vector must be correctly associated with the size of the periodic cell.</li>
<li><code>name::String</code> : Name of the obstacle, given for user convenience. Defaults to "Periodic wall".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L239-L253' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.SplitterWall' href='#DynamicalBilliards.SplitterWall'>#</a>
<strong><code>DynamicalBilliards.SplitterWall</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>SplitterWall{T&lt;:AbstractFloat} &lt;: Wall{T}
</pre></div>


<p>Wall obstacle imposing allowing for ray-splitting (mutable type).</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>sp::SVector{2,T}</code> : Starting point of the Wall.</li>
<li><code>ep::SVector{2,T}</code> : Ending point of the Wall.</li>
<li><code>normal::SVector{2,T}</code> : Normal vector to the wall, pointing to where the particle <em>will come from before a collision</em>. The size of the vector is irrelevant.</li>
<li><code>pflag::Bool</code> : Flag that keeps track of where the particle is currently propagating (<code>pflag</code> = propagation flag). <code>true</code> is associated with the <code>normal</code> vector the wall is instantiated with. Defaults to <code>true</code>.</li>
<li><code>name::String</code> : Name of the obstacle, given for user convenience. Defaults to "Splitter wall".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L271-L286' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.FiniteWall' href='#DynamicalBilliards.FiniteWall'>#</a>
<strong><code>DynamicalBilliards.FiniteWall</code></strong> &mdash; <em>Type</em>.</p>
<div class="codehilite"><pre><span></span>FiniteWall{T&lt;:AbstractFloat} &lt;: Wall{T}
</pre></div>


<p>Wall obstacle imposing specular reflection during collision (immutable type). Slower than <a href="./#DynamicalBilliards.InfiniteWall"><code>InfiniteWall</code></a>, meant to be used for non-convex billiards.</p>
<p>Giving a <code>true</code> value to the field <code>isdoor</code> designates this obstacle to be a <code>Door</code>. This is used in <a href="./#DynamicalBilliards.escapetime"><code>escapetime</code></a> function. A <code>Door</code> is a obstacle of the billiard table that the particle can escape from, thus enabling calculations of escape times.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><code>sp::SVector{2,T}</code> : Starting point of the Wall.</li>
<li><code>ep::SVector{2,T}</code> : Ending point of the Wall.</li>
<li><code>normal::SVector{2,T}</code> : Normal vector to the wall, pointing to where the particle <em>will come from before a collision</em> (pointing towards the inside of the billiard table). The size of the vector is irrelevant since it is internally normalized.</li>
<li><code>isdoor::Bool</code> : Flag of whether this <code>FiniteWall</code> instance is a "Door".</li>
<li><code>name::String</code> : Name of the obstacle, given for user convenience. Defaults to "Finite Wall".</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L163-L183' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.normalvec' href='#DynamicalBilliards.normalvec'>#</a>
<strong><code>DynamicalBilliards.normalvec</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>normalvec(obst::Obstacle, position)
</pre></div>


<p>Return the vector normal to the obstacle's boundary at the given position (which is assumed to be very close to the obstacle's boundary).</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L316-L320' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.distance' href='#DynamicalBilliards.distance'>#</a>
<strong><code>DynamicalBilliards.distance</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>distance(p::AbstractParticle, o::Obstacle)
</pre></div>


<p>Return the <strong>signed</strong> distance between particle <code>p</code> and obstacle <code>o</code>, based on <code>p.pos</code>. Positive distance corresponds to the particle being on the <em>allowed</em> region of the <code>Obstacle</code>. E.g. for a <code>Disk</code>, the distance is positive when the particle is outside of the disk, negative otherwise.</p>
<div class="codehilite"><pre><span></span>distance(p::AbstractParticle, bt::Vector{&lt;:Obstacle})
</pre></div>


<p>Return minimum <code>distance(p, obst)</code> for all <code>obst</code> in <code>bt</code>. If the <code>distance(p, bt)</code> is negative this means that the particle is outside the billiard table.</p>
<p>All <code>distance</code> functions can also be given a position (Vector) instead of a particle.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/obstacles.jl#L331-L344' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.randominside' href='#DynamicalBilliards.randominside'>#</a>
<strong><code>DynamicalBilliards.randominside</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>randominside(bt::Vector{&lt;:Obstacle{T}} [, ω])
</pre></div>


<p>Return a particle with allowed initial conditions inside the given billiard table. If supplied with a second argument the type of the returned particle is <code>MagneticParticle</code>, with angular velocity <code>ω</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/billiardtable.jl#L78-L83' class='documenter-source'>source</a><br></p>
<p><a id='Standard-Billiards-1'></a></p>
<h2 id="standard-billiards">Standard Billiards</h2>
<p><a id='DynamicalBilliards.billiard_rectangle' href='#DynamicalBilliards.billiard_rectangle'>#</a>
<strong><code>DynamicalBilliards.billiard_rectangle</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">billiard_rectangle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span> <span class="n">setting</span> <span class="o">=</span> <span class="s">&quot;standard&quot;</span><span class="p">)</span>
</pre></div>


<p>Return a vector of obstacles that defines a rectangle billiard of size (<code>x</code>, <code>y</code>).</p>
<p><strong>Settings</strong></p>
<ul>
<li>"standard" : Specular reflection occurs during collision.</li>
<li>"periodic" : The walls are <code>PeriodicWall</code> type, enforcing periodicity at the boundaries</li>
<li>"random" : The velocity is randomized upon collision.</li>
<li>"ray-splitting" : All obstacles in the billiard table allow for ray-splitting.</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L10-L22' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_sinai' href='#DynamicalBilliards.billiard_sinai'>#</a>
<strong><code>DynamicalBilliards.billiard_sinai</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">billiard_sinai</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span> <span class="n">setting</span> <span class="o">=</span> <span class="s">&quot;standard&quot;</span><span class="p">)</span>
</pre></div>


<p>Return a vector of obstacles that defines a Sinai billiard of size (<code>x</code>, <code>y</code>) with a disk in its center, of radius <code>r</code>.</p>
<p>In the periodic case, the system is also known as "Lorentz Gas".</p>
<p><strong>Settings</strong></p>
<ul>
<li>"standard" : Specular reflection occurs during collision.</li>
<li>"periodic" : The walls are <code>PeriodicWall</code> type, enforcing periodicity at the boundaries</li>
<li>"random" : The velocity is randomized upon collision.</li>
<li>"ray-splitting" : All obstacles in the billiard table allow for ray-splitting.</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L75-L90' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_bunimovich' href='#DynamicalBilliards.billiard_bunimovich'>#</a>
<strong><code>DynamicalBilliards.billiard_bunimovich</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>billiard_bunimovich(l=1.0, w=1.0)
</pre></div>


<p>Return a vector of <code>Obstacle</code>s that define a Buminovich billiard, also called a stadium. The length is considered <em>without</em> the attached semicircles, meaning that the full length of the billiard is <code>l + w</code>. The left and right edges of the stadium are <a href="./#DynamicalBilliards.Semicircle"><code>Semicircle</code></a>s.</p>
<p><code>billiard_stadium</code> is an alias of <code>billiard_bunimovich</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L299-L307' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_mushroom' href='#DynamicalBilliards.billiard_mushroom'>#</a>
<strong><code>DynamicalBilliards.billiard_mushroom</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>billiard_mushroom(stem_length = 1.0, stem_width=0.2, cap_radious=1.0,
stem_location = 0.0)
</pre></div>


<p>Create a mushroom billiard. The center of the cap (which is Semicircle) is always at [0, stem_length]. The bottom-most <code>Wall</code> is a <code>Door</code> (see <a href="./#DynamicalBilliards.escapetime"><code>escapetime</code></a>).</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L256-L261' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_lorentz' href='#DynamicalBilliards.billiard_lorentz'>#</a>
<strong><code>DynamicalBilliards.billiard_lorentz</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>billiard_lorentz(r=0.25, x=1.0, y=1.0)
</pre></div>


<p>Alias for <code>billiard_sinai(r,x,y; setting = "periodic")</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L110-L113' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_polygon' href='#DynamicalBilliards.billiard_polygon'>#</a>
<strong><code>DynamicalBilliards.billiard_polygon</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="nt">billiard_polygon</span><span class="o">(</span><span class="nt">n</span><span class="p">::</span><span class="nd">Int</span><span class="o">,</span> <span class="nt">R</span><span class="o">,</span> <span class="nt">center</span> <span class="o">=</span> <span class="cp">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="cp">]</span><span class="o">;</span> <span class="nt">setting</span> <span class="o">=</span> <span class="s2">&quot;standard&quot;</span><span class="o">)</span>
</pre></div>


<p>Return a vector of obstacles that defines a regular-polygonal billiard table with <code>n</code> sides, radius <code>r</code> and given <code>center</code>.</p>
<p>Note: <code>R</code> denotes the so-called outer radius, not the inner one.</p>
<p><strong>Settings</strong></p>
<ul>
<li>"standard" : Specular reflection occurs during collision.</li>
<li>"periodic" : The walls are <code>PeriodicWall</code> type, enforcing periodicity at the boundaries. Only available for <code>n=4</code> or <code>n=6</code>.</li>
<li>"random" : The velocity is randomized upon collision.</li>
</ul>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L116-L128' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_hexagonal_sinai' href='#DynamicalBilliards.billiard_hexagonal_sinai'>#</a>
<strong><code>DynamicalBilliards.billiard_hexagonal_sinai</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>billiard_hexagonal_sinai(r, R, center = [0,0]; setting = &quot;standard&quot;)
</pre></div>


<p>Create a sinai-like billiard, which is a hexagon of outer radius <code>R</code>, containing at its center (given by <code>center</code>) a disk of radius <code>r</code>. The <code>setting</code> keyword is passed to <code>billiard_polygon</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L167-L172' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.billiard_raysplitting_showcase' href='#DynamicalBilliards.billiard_raysplitting_showcase'>#</a>
<strong><code>DynamicalBilliards.billiard_raysplitting_showcase</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>billiard_raysplitting_showcase(x=2.0, y=1.0, r1=0.3, r2=0.2) -&gt; bt, rayspl
</pre></div>


<p>Showcase example billiard for ray-splitting processes. A rectangle <code>(x,y)</code> with a SplitterWall at <code>x/2</code> and two disks at each side, with respective radii <code>r1</code>, <code>r2</code>.</p>
<p><strong>Notice</strong>: This function returns a billiard table <code>bt</code> as well as a <code>rayspl</code> dictionary!</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/billiards/standard_billiards.jl#L186-L193' class='documenter-source'>source</a><br></p>
<p><a id='Ray-splitting-1'></a></p>
<h2 id="ray-splitting">Ray-splitting</h2>
<p><a id='DynamicalBilliards.isphysical' href='#DynamicalBilliards.isphysical'>#</a>
<strong><code>DynamicalBilliards.isphysical</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="nt">isphysical</span><span class="o">(</span><span class="nt">raysplitter</span><span class="p">::</span><span class="nd">Dict</span><span class="o">;</span> <span class="nt">only_mandatory</span> <span class="o">=</span> <span class="nt">false</span><span class="o">)</span>
</pre></div>


<p>Return <code>true</code> if the given ray-splitting dictionary has physically plausible properties.</p>
<p>Specifically, check if (φ is the incidence angle, θ the refraction angle):</p>
<ul>
<li>Critical angle means total reflection: If θ(φ) ≥ π/2 then Tr(φ) = 0</li>
<li>Transmission probability is even function: Tr(φ) ≈ Tr(-φ) at ω = 0</li>
<li>Refraction angle is odd function: θ(φ) ≈ -θ(-φ) at ω = 0</li>
<li>Ray reversal is true: θ(θ(φ, pflag, ω), !pflag, ω) ≈ φ</li>
<li>Magnetic conservation is true: (ω_new(ω_new(ω, pflag), !pflag) ≈ ω</li>
</ul>
<p>The first property is mandatory to hold for any setting and is always checked. The rest are checked if <code>only_mandatory = false</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/raysplitting.jl#L327-L342' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.acceptable_raysplitter' href='#DynamicalBilliards.acceptable_raysplitter'>#</a>
<strong><code>DynamicalBilliards.acceptable_raysplitter</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>acceptable_raysplitter(raysplitter, bt)
</pre></div>


<p>Return <code>true</code> if the given ray-splitting dictionary <code>raysplitter</code> can be used in conjuction with given billiard table <code>bt</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/raysplitting.jl#L310-L314' class='documenter-source'>source</a><br></p>
<p><a id='DynamicalBilliards.reset_billiard!' href='#DynamicalBilliards.reset_billiard!'>#</a>
<strong><code>DynamicalBilliards.reset_billiard!</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>reset_billiard!(bt)
</pre></div>


<p>Sets the <code>pflag</code> field of all ray-splitting obstacles of a billiard table to <code>true</code>.</p>
<p><a target='_blank' href='https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/58a3ccbb9078a5f233b2d0eec184e22dfbcb8c88/src/raysplitting.jl#L299-L303' class='documenter-source'>source</a><br></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../lyapunovs/" title="Lyapunov Exponents" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Lyapunov Exponents
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/JuliaDynamics/DynamicalBilliards.jl" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script>
      
        <script src="../../assets\mathjaxhelper.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>